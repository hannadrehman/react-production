# React Application

## info

a complete projet for react production grade project with :

1. react, redux , redux sagas
2. eslint
3. customizable build config
4. jest and enzyme test framework
5. babel and eslint config to support es2017
6. react hot module replacement
7. code spliting
8. code organisation based on "Feature first approach"
9. webpack 4.

**this project requires**

1. `NodeJS`
2. `npm`.
3. `python 2.7` which may change in future

## How to set up? Install

this app is where all front end code will live. in most of the cases it will be a single page application
build with react,redux,sagas, and build by webpack.

- install node modules and run client applicarion
- hit `npm install`
- use `vs code` for best developer experience.
- download `EditorConfig for VS Code`
- download `EsLint` for vs code
- download `Prettier - code formatter` for vs code.
- you try other code editors also. as long as they support the above mentioned pluguns.

### start

after installing all modules hit `npm start`
this will run the applications in `watch` mode. meaning any file change will be reacted and updated
in the browser. (Hot module replacement)

### build

to build for deployment/production.

- hit `npm run build`

doing this will copy build diles to dist folder in root `dist/public` folder in the application root which will contain a full stack build
`nodejs` application redy to deploy with its own `package.json` install node modules and run the app.

**important**
to run the built application it needs following environment variables

1. `NODE_ENV`='production'
2. `NODE_ENV_PORT`='3000' or any available port

## npm scripts.

```
"scripts": {
    "start": "npm run start:dev",                                                                                                           # starts project  in dev mode
    "start:dev": "npm run dev-server --   --mode development --env.NODE_ENV=development --env.PROXY_ORIGIN=http://localhost:8000",          # starts project in dev with dev env vaiables and dev proxy origin
    "start:stage": "npm run dev-server --  --mode development --env.NODE_ENV=development --env.PROXY_ORIGIN=https://locahost:9001",         # starts project in dev and proxies to stage env
    "start:analyze-speed": "npm run start:dev -- --env.addons=speedmeasure",                                                                # starts project in dev with webpack speed analyzer plugin
    "build": "npm run test && webpack --optimize-minimize --mode production --env.NODE_ENV=production --env.PUBLIC_PATH=/",                 # build project for production
    "build:analyze-bundle": "npm run build -- --env.addons=bundleanalyzer",                                                                 # build project with webpack bundle analyzer plugin
    "build:analyze-buddy": "npm run build -- --env.addons=bundlebuddy",                                                                     # builds for production with webpack bundlebuddy plugin
    "dev-server": "webpack-dev-server --inline",                                                                                            # starts webpack dev server to serve the app.
    "test:watch": "npm run test -- --watchAll",                                                                                             # runs jest test runner in watch mode.
    "test": "export NODE_ENV=test&& jest",                                                                                                  # starts jest test runner
    "profile": "webpack --env.NODE_ENV=production --progress -c --profile --json  > stats.json"                                             # generates webpack build profile
  },
```

## under the hood

- [Node.js](https://nodejs.org/en/)
- [React](https://github.com/facebook/react)
- [Redux](https://github.com/reactjs/redux)
- [Sagas](https://redux-saga.js.org/docs/introduction/BeginnerTutorial.html)
- [React Router v4](https://github.com/reactjs/react-router)
- [Axios](https://github.com/axios/axios)
- [AntD with scss](https://ant.design/)
- [Webpack 4](https://github.com/webpack/webpack) with code splitting
- [React Hot Loader](https://github.com/gaearon/react-hot-loader)
- [Jest](https://jestjs.io/)
- [Enzyme](https://airbnb.io/enzyme/)
- [ESLint](https://eslint.org/)

## recommendations

its best to use vs code with the following plugins installed.

1. EditorConfig for VS Code
2. EsLint
3. Prettier - code formatter

## folder structure

**client folder**

```
.
├── /mocks/                    # This folder contains some mocks for jest like api,css modules etc
├── /build-config/             # webpack config divided into types of env is placed here
├── /coverage/                 # contains a small application wich shows coverage generated by jest
├── /node_module/              # contains all dependencies modules
├── /src/                      # contains the actual source code
├── /.babelrc                  # babel configuration and env specific plugins are kept here
├── /.editorconfig             # commom configuration to code editor
├── /.eslintignore             # some rules to ignore for eslint
├── /.eslintrc                 # eslint rules and configuration
├── /.gitignore                # ignore files to git
├── /.package.json             # dependencies for client app
├── /.package-lock.json        # dependencies lock
├── /.webpack.config.js        # root config for webpack which will import all other configurations.
├── /README.md                 # instructions and help
├── /LICENSE                   # license details
├── /CHANGELOG.md              # all changes mentioned
├── /jsconfig.js               # contains paths for vs code import resolve
```

**src folder**

```
.
├── /App/                     # App folder which contains all react components
├── /Assets/                  # Assets folder contain all images, logos, global styles, css etc which does not belong to react components
├── /Constants/               # Contains all app level constants for the app. like api endpoints etc.
├── /Services/                # All helper methods, functions modules that are used accross the application, shared code which should be reused everywhere
├── /Store                    # contains redux store and other redux utilities
├── /Styles/                  # styles for the app, libraries and common classes that should be re-used. also scss variables and antd theme variables are kept here.
├── /App.hot.js               # initializations for React HMR
├── /index.ejs                # index.html we are using ejs as templating engine so that we could inject variables into template
├── /index.jsx                # starting point of the app. which will initialises the react app.
```

**src/App folder**

```
.
├── /Common/                  # Contains all Common Componenets which are to be shared accross the application.
├── /Elements/                # Elements are the Components taken from some library like Button, Accodion, Modal etc. these are wrappers over library components.
├── /Layout/                  # Layout component declares the application lyout. ex navbar,body, footer, side pan. which defines the app lyaout.
├── /Router/                  # Router component imports react router and declares the routing for the sub apps. all the routing should be registered here. and lyout will import router
├── /SubApps                  # SubApps are independent apps which in most of the cases is a PAGE or Router ex Home, Profile,Chat,Massenger etc.
├── /actionNames.js/          # Contains all App level action Names for the redux
├── /actions.js/              # Contains all redux actions on app level.
├── /action.spec.js           # Tests fir actions
├── /index.jsx                # App component definition is here.
├── /operations.js            # Contains all Sagas helper methods.
├── /reducer.js               # Contains reducer for app level actions.
├── /reducer.spec.js          # Tests for reducer.
├── /sagas.js                 # default export for app level sagas.
```

